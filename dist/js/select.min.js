alexander.select={getRange:function(){return r=null,tmp=alexander.util.ce("span"),window.getSelection&&window.getSelection().getRangeAt?(r=window.getSelection().getRangeAt(0),tmp.appendChild(r.extractContents()),tmp.innerHTML):document.selection&&document.selection.createRange?(r=document.selection.createRange(),tmp.appendChild(r.extractContents()),tmp.innerHTML):null},clear:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},replaceWithHTML:function(html){var range,html;if(window.getSelection&&window.getSelection().getRangeAt){(range=window.getSelection().getRangeAt(0)).deleteContents();var div=document.createElement("div");div.innerHTML=html;for(var child,frag=document.createDocumentFragment();child=div.firstChild;)frag.appendChild(child);range.insertNode(frag)}else document.selection&&document.selection.createRange&&(range=document.selection.createRange()).pasteHTML(html)}};