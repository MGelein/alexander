!function(_a){function updateTextOverview(){var query=$("#textFilter").val().trim();0!=(query=query.toLowerCase()).length?$(".textlink").each(function(i,item){-1!=$(item).text().toLowerCase().indexOf(query)?$(item).show():$(item).hide()}):$(".textlink").show()}function orderTextOverview(){var order=$("#textOrder").val().trim().toLowerCase(),items=$(".textlink").get(),orderClass=order.startsWith("title")?".loaderTitle":order.startsWith("name")?".loaderName":".loaderAuthor";items.sort(function(a,b){var textA=$(a).find(orderClass).text(),textB=$(b).find(orderClass).text();return textA<textB?1:textB<textA?-1:0}),-1==order.indexOf("desc")&&items.reverse(),$.each(items,function(i,item){$("#textOverview").append(item)})}alexander.text={load:function(){alexander.ajax.req("loadText",alexander.util.getUrlVars().txtID,function(responseText){nicEditors.findEditor("textEditor").setContent(decodeURI(responseText)),alexander.markup.registerListeners(),alexander.markup.list()})},save:function(andExit){var saveData={textContent:encodeURI(nicEditors.findEditor("textEditor").getContent().replace(/&nbsp;/g," ")),authorName:$("#authorField").val().toLowerCase(),textName:$("#textNameField").val(),textTitle:$("#titleField").val(),locusF:$("#locusFromField").val(),locusT:$("#locusToField").val(),checkIn:andExit,textStatusSelect:$("#textStatusSelect").val()};alexander.ajax.req("saveText",saveData,function(responseText){switch(responseText){case"OK":andExit&&alexander.editor.exit();break;case"DB_ERR":alert("A database error occured. Saving has failed. Try again later.");break;case"AUTH_RES_ERR":alert("A result error has occured. This authorName is not yet registered. And you don't have the necessary privileges to register a new author");break;default:console.log("ERR:"+responseText)}})},create:function(){alexander.ajax.req("newText","",function(responseText){document.location=responseText})},loadOverview:function(){alexander.ajax.req("loadTextOverview","",function(responseText){$("#textOverview").html(responseText),alexander.text.renderOverview()}),setTimeout(function(){$(".animated.fadeIn").removeClass("animated fadeIn")},500)},renderOverview:function(){updateTextOverview(),orderTextOverview()}}}();